<app-login-header></app-login-header>
<div
    class="container-fluid d-flex flex-column justify-content-center align-items-center content-container"
>
    <div class="login-container">
        <h2>Đăng nhập</h2>
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                    type="email"
                    class="form-control"
                    id="email"
                    formControlName="email"
                    placeholder="Nhập email của bạn"
                />
                <div
                    *ngIf="submitted && loginForm.get('email')?.errors"
                    class="text-danger"
                >
                    Email không hợp lệ!
                </div>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Mật khẩu</label>
                <div class="password-container">
                    <input
                        [type]="showPassword ? 'text' : 'password'"
                        class="form-control"
                        id="password"
                        formControlName="password"
                        placeholder="Nhập mật khẩu"
                    />
                    <i
                        class="toggle-password fa"
                        [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'"
                        (click)="togglePassword()"
                    ></i>
                </div>
                <div *ngIf="submitted && f['password'].errors">
                    <div
                        *ngIf="f['password'].errors['minlength']"
                        class="text-danger"
                    >
                        Mật khẩu phải có ít nhất 6 ký tự!
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <a href="#" class="forgot-password">Quên mật khẩu</a>
            </div>
            <button type="submit" class="btn btn-primary w-100 mt-3">
                Đăng nhập
            </button>
        </form>
        <p class="register-text mt-3">
            Chưa có tài khoản?
            <a routerLink="/register" class="register-link">Đăng ký</a>
        </p>
    </div>
</div>
<div class="toast-container">
    <div
        class="toast"
        [ngClass]="{
            show: isToastVisible,
            success: toastType === 'success',
            error: toastType === 'error'
        }"
    >
        <div class="toast-content">
            <i
                class="fa-solid"
                [ngClass]="{
                    'fa-circle-check': toastType === 'success',
                    'fa-triangle-exclamation': toastType === 'error'
                }"
            ></i>
            <span>{{ toastMessage }}</span>
        </div>
        <button class="toast-close-btn" (click)="hideToast()">
            <i class="fa-solid fa-xmark"></i>
        </button>
    </div>
</div>
<app-login-footer></app-login-footer>
